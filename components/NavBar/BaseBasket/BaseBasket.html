<div v-click-outside="hide">
  <slot/>

  <div class="basket-background" :class="{open: isOpen}">

    <BasketBlock v-for="(chinchilla, index) in chinchillas" :data="chinchilla" :key="'chinchilla_' + index"></BasketBlock>

    <BasketProductBlock v-for="(product, index) in products" :data="product" :key="'product_' + index"></BasketProductBlock>

    <div v-if="chinchillas.length === 0 && products.length === 0" class="basket-message bb">
      Вы еще ничего не выбрали
    </div>
    <div v-if="chinchillas.length > 0 || products.length > 0" class="bb p-2">
      <p class="basket-total-cost">Общая стоимость</p>
      <p class="basket-total-cost">{{totalCost}}₽</p>
    </div>
    <div v-if="chinchillas.length > 0 || products.length > 0" @click="clearBasket" class="basket-message basket-action bb">
      Очистить корзину
    </div>
    <nuxt-link v-if="chinchillas.length > 0 || products.length > 0" to="/contacts" @click.native="hide" class="basket-message basket-action bb">
      Заказать
    </nuxt-link>
  </div>
</div>
